<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Blog</title>
    <link rel="stylesheet" href="/css/blog.css" th:href="@{/CSS/blog.css}">

    <!-- 插件 -->
    <!-- <link rel="stylesheet" href="/Utils/tocbot/tocbot.css"> -->
    <link rel="stylesheet" href="/Utils/semantic_ui/components/icon.min.css" th:href="@{/Utils/semantic_ui/components/icon.min.css}">
    <link rel="stylesheet" href="/css/typo.css" th:href="@{/CSS/typo.css}">
    <link rel="stylesheet" href="/Utils/prism/prism.css" th:href="@{/Utils/prism/prism.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css}">

</head>

<body>
    <div class="progress"></div>
    <div id="background"></div>

    <div class="head_background">
        <div class="ui text container animate__bounceIn">
            <h1 class="ui inverted huge header " style="color: white;" th:text="${Blog.title}"></h1>
            <h3 class="ui inverted header" style="text-align: center;">
                <i class="eye icon" style="color: white;"></i><span style="color:white;margin-right: 20px" th:text="${Blog.views}"></span>
                <i class="clock outline icon" style="color: white;"></i><span style="color: white" th:text="${#dates.format(Blog.publish_time,'yyyy-MM-dd')}"></span>
            </h3>
        </div>
    </div>
    <!-- body 主体 -->
    <div id="content_container">
        <div id="content" class="typo typo-selection js-toc-content">

            <div id="title">
                <span>目录:</span>
                <ol class="js-toc">
                </ol>
            </div>
            <div style="display: inline-block;" th:utext="${Blog.detail_content}"></div>
        </div>

    </div>
    <img class="ui fluid image" src="/img/footer.png" th:src="@{/img/footer.png}" style="bottom: 0;" alt="">

    <!-- js 部分 -->
    <script type="text/javascript" src="/js/jquery-3.6.0.js" th:src="@{/Utils/jquery-3.6.0.js}"></script>
    <script src="/Utils/prism/prism.js" th:src="@{/Utils/prism/prism.js}"></script>
    <script src="/Utils/tocbot/tocbot.js" th:src="@{/Utils/tocbot/tocbot.js}"></script>
    <script>
        tocbot.init({
            // Where to render the table of contents.
            tocSelector: '.js-toc',
            // Where to grab the headings to build the table of contents.
            contentSelector: '.js-toc-content',
            // Which headings to grab inside of the contentSelector element.
            headingSelector: 'h1, h2, h3',
            // For headings inside relative or absolute positioned containers within content.
            hasInnerContainers: true,
        });

        (function() {
            let pageHeight = document.body.scrollHeight || document.documentElement.scrollHeight;
            let windowHeight = document.documentElement.clientHeight || document.body.clientHeight;
            let scrollAvail = pageHeight - windowHeight;
            console.log('可滚动高度', scrollAvail);
            window.onscroll = function() {
                let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                console.log('滚动条高度', scrollTop);
                document.querySelector('.progress').style.width = (scrollTop / scrollAvail) * 100 + '%';
            };
        }());
    </script>
</body>

</html>