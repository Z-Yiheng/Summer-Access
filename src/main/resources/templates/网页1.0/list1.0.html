<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>博文列表</title>
    <link rel="stylesheet" href="../static/css/list.css" th:href="@{/css/list.css}">
    <link rel="stylesheet" href="../static/Utils/semantic_ui/semantic.min.css" th:href="@{/Utils/semantic_ui/semantic.min.css}">
</head>

<body>
<div id="background"></div>
<header>
    <nav>
        <p>后台管理</p>

        <a th:href="@{/}">博客</a>
    </nav>
</header>
<div class="content">
    <div th:replace="~{publish::head-title(active='showBlog.html')}"></div>

    <table class="ui selectable celled striped table">
        <thead>
        <tr>
            <th class="wide">ID</th>
            <th class="four wide">标题</th>
            <th class="three wide">添加日期</th>
            <th class="six wide">博客简介</th>
            <th class="one wide">发布</th>
            <th class="three wide">操作</th>
        </tr>
        </thead>
        <tbody>

        <tr th:each=" item: ${list}">
            <td name="realId" style="display: none" th:text="${item.id}"></td>
            <td><span class="numberClass"></span></td>
            <td th:text="${item.title}"></td>
            <td th:text="${#dates.format(item.publish_time,'yyyy-MM-dd')}"></td>
            <td th:text="${item.brief_content}"></td>
            <td th:text="${item.published == 0}?'否':'是'"></td>

            <td>
                <button class="ui inverted red button mini"><a th:href="@{'/deleteBlog/'+${item.id}}">删除</a></button>
                <button class="ui inverted green button mini">编辑</button>
            </td>
        </tr>

        </tbody>
        <tfoot>
        <tr>
            <th colspan="7">
                <div class="ui inverted divided stackable grid">
                    <div class="two wide column" style="text-align: center;">
                        <button class="ui orange basic mini button"><a th:href="@{/list?pageNumber=1}">首页</a></button>
                    </div>
                    <div class="two wide column" style="text-align: center;">
                        <button class="ui orange basic mini button"><a th:href="@{'/list?pageNumber='+${pageNo - 1}}">上一页</a></button>
                    </div>

                    <div class="eight wide column" style="text-align: center;">
                        <p>第 <span th:text="${pageNo}"></span> 页，共 <span th:text="${maxPage}"></span> 页，有 <span th:text="${totalCount}"></span> 篇文章</p>
                    </div>

                    <div class="two wide column" style="text-align: center;">
                        <button class="ui orange basic mini button"><a th:href="@{'/list?pageNumber='+${pageNo + 1}}">下一页</a></button>
                    </div>
                    <div class="two wide column" style="text-align: center;">
                        <button class="ui orange basic mini button"><a th:href="@{'/list?pageNumber='+${maxPage}}">尾页</a></button>
                    </div>
                </div>
            </th>
        </tr>
        </tfoot>
    </table>
</div>
<script th:src="@{/js/jquery-3.6.0.js}"></script>
<script>
    $(function () {
       function number() {
           for (var i =0;i<$(".numberClass").length;i++) {
               $(".numberClass").get(i).innerHTML = i+1;
           }
       }
       number();
    });
</script>
</body>

</html>